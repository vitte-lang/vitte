

{
  "schema": "vitte.compat.diff.breaking",
  "schema_version": 1,
  "generated_utc": "2026-01-02T20:59:00Z",
  "notes": [
    "Breaking-change diff report between two API/ABI surface snapshots.",
    "This file is intended to be stable for CI gating and human review.",
    "Populate from your diff tool; empty arrays mean 'no breaking changes detected'."
  ],
  "from": {
    "snapshot": "snapshot.previous",
    "path": "compiler/compat/api/surface/snapshot.previous",
    "generated_utc": "",
    "version": "",
    "commit": ""
  },
  "to": {
    "snapshot": "snapshot.current",
    "path": "compiler/compat/api/surface/snapshot.current",
    "generated_utc": "2026-01-02T20:59:00Z",
    "version": "0.0.0",
    "commit": ""
  },
  "target": {
    "os": "linux",
    "arch": "x86_64",
    "triple": "x86_64-unknown-linux-gnu",
    "abi": "sysv"
  },
  "summary": {
    "is_breaking": false,
    "breaking_count": 0,
    "max_severity": "none",
    "by_area": {
      "abi": 0,
      "headers": 0,
      "cli": 0,
      "json": 0,
      "sdk": 0
    }
  },
  "policy": {
    "fail_on": ["high", "critical"],
    "treat_removed_as_breaking": true,
    "treat_renamed_as_breaking": true,
    "notes": "Tune policy in the diff tool; this report just records the outcome."
  },
  "breaking": {
    "abi": [],
    "headers": [],
    "cli": [],
    "json": [],
    "sdk": []
  },
  "templates": {
    "issue": {
      "id": "ABI.FUNCTION.REMOVED",
      "area": "abi",
      "severity": "high",
      "title": "Exported function removed",
      "detail": {
        "symbol": "vitte_example_fn",
        "library": "libvitte_compiler",
        "before": {
          "signature": "int32 vitte_example_fn(int32 arg0)",
          "since": null
        },
        "after": null
      },
      "evidence": {
        "from_file": "compiler/compat/api/baselines/linux-x86_64/libvitte_compiler.abi.json",
        "to_file": "compiler/compat/api/baselines/linux-x86_64/libvitte_compiler.abi.json",
        "diff_hint": "exports.functions"
      },
      "recommendation": {
        "action": "restore|version|deprecate",
        "notes": "If removal is intended, bump major or ship a compatibility shim."
      }
    },
    "areas": {
      "abi": {
        "id_prefix": "ABI.",
        "examples": [
          "ABI.FUNCTION.REMOVED",
          "ABI.FUNCTION.SIGNATURE_CHANGED",
          "ABI.STRUCT.LAYOUT_CHANGED",
          "ABI.ENUM.VALUE_REMOVED"
        ]
      },
      "headers": {
        "id_prefix": "HDR.",
        "examples": [
          "HDR.HEADER.REMOVED",
          "HDR.TYPE.REMOVED",
          "HDR.FUNCTION.REMOVED"
        ]
      },
      "cli": {
        "id_prefix": "CLI.",
        "examples": [
          "CLI.COMMAND.REMOVED",
          "CLI.FLAG.REMOVED",
          "CLI.FLAG.SEMANTICS_CHANGED",
          "CLI.ARG.REQUIRED_CHANGED"
        ]
      },
      "json": {
        "id_prefix": "JSON.",
        "examples": [
          "JSON.CONTRACT.REMOVED",
          "JSON.FIELD.REMOVED",
          "JSON.FIELD.TYPE_CHANGED",
          "JSON.REQUIRED_CHANGED"
        ]
      },
      "sdk": {
        "id_prefix": "SDK.",
        "examples": [
          "SDK.COMPONENT.REMOVED",
          "SDK.LIBRARY.REMOVED",
          "SDK.TOOL.REMOVED",
          "SDK.PATH.CHANGED"
        ]
      }
    },
    "severities": {
      "none": 0,
      "low": 1,
      "medium": 2,
      "high": 3,
      "critical": 4
    }
  }
}