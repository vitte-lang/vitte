mod core.collections.vec

type VecI64
  data: [i64]
.end

fn vec_new() -> VecI64
  let v: VecI64
  set v.data = []
  ret v
.end

fn vec_push(v: &mut VecI64, x: i64) -> void
  do v.data.push(x)
.end

fn vec_len(v: &VecI64) -> i64
  ret v.data.len
.end

fn vec_get(v: &VecI64, i: i64) -> core.option.option.OptionI64
  if i < 0 || i >= v.data.len
    ret core.option.option.none_i64()
  .end
  ret core.option.option.some_i64(v.data[i])
.end
