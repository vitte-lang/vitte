mod core.fmt.builder

type StrBuilder
  parts: [str]
.end

fn sb_new() -> StrBuilder
  let b: StrBuilder
  set b.parts = []
  ret b
.end

fn sb_push(b: &mut StrBuilder, s: str) -> void
  do b.parts.push(s)
.end

fn sb_build(b: &StrBuilder) -> str
  # placeholder join
  let out: str = ""
  let i: i64 = 0
  loop
    if i >= b.parts.len
      ret out
    .end
    set out = out + b.parts[i]
    set i = i + 1
  .end
.end
