mod algo.search.search

use algo.compat.slice.is_sorted_non_decreasing

fn linear_search(xs: [i64], target: i64) -> i64
  let i: i64 = 0
  loop
    if i >= xs.len
      ret -1
    .end
    if xs[i] == target
      ret i
    .end
    set i = i + 1
  .end
.end

fn binary_search(xs: [i64], target: i64) -> i64
  if xs.len == 0
    ret -1
  .end
  # assumes sorted
  let lo: i64 = 0
  let hi: i64 = xs.len
  loop
    if lo >= hi
      ret -1
    .end
    let mid: i64 = (lo + hi) / 2
    if xs[mid] < target
      set lo = mid + 1
    elif xs[mid] > target
      set hi = mid
    else
      ret mid
    .end
  .end
.end
