mod algo.random.xorshift64

type XorShift64
  state: u64
.end

fn xs64_new(seed: u64) -> XorShift64
  let r: XorShift64
  set r.state = seed
  ret r
.end

fn xs64_next(r: &mut XorShift64) -> u64
  let x: u64 = r.state
  set x = x ^ (x << 13)
  set x = x ^ (x >> 7)
  set x = x ^ (x << 17)
  set r.state = x
  ret x
.end
