mod io.traits.writer

use core.error.error.*

type WriteResult
  ok: bool
  n: i64
  err: Error
.end

fn write_result_ok(n: i64) -> WriteResult
  let r: WriteResult
  set r.ok = true
  set r.n = n
  set r.err = core.error.error.error_new(0, "")
  ret r
.end

fn write_result_err(code: i64, msg: str) -> WriteResult
  let r: WriteResult
  set r.ok = false
  set r.n = 0
  set r.err = core.error.error.error_new(code, msg)
  ret r
.end
