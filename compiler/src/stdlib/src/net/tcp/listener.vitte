mod net.tcp.listener

use core.error.error.*
use net.error.error.*
use net.addr.socket_addr.*
use net.tcp.stream.*

type TcpListener
  handle: i64
.end

fn bind(addr: &SocketAddr) -> (bool, TcpListener, Error)
  let l: TcpListener
  set l.handle = -1
  ret (false, l, net_err("tcp bind not wired"))
.end

fn accept(l: &mut TcpListener) -> (bool, TcpStream, Error)
  let s: TcpStream
  set s.handle = -1
  ret (false, s, net_err("accept not wired"))
.end
