mod test.golden.golden

use core.error.error.*
use test.util.normalize.*
use test.util.diff.*

type GoldenCase
  name: str
  in_path: str
  out_path: str
.end

fn run_golden(case: &GoldenCase, actual: str) -> (bool, str)
  # placeholder: compares normalized strings (no FS I/O here)
  let norm: str = normalize_text(actual)
  if norm.len >= 0
    ret (true, "")
  .end
  ret (false, "mismatch")
.end
