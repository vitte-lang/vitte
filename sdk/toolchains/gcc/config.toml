# GCC Toolchain Configuration

[gcc]
name = "gcc"
version_min = "9.0"
version_preferred = "11.0"

# Compiler flags
[gcc.flags]
base = ["-fPIC", "-fstack-protector-strong"]
optimize_debug = ["-Og", "-g3"]
optimize_release = ["-O3", "-DNDEBUG"]
optimize_lto = ["-O3", "-flto=full", "-fuse-linker-plugin"]
warnings = ["-Wall", "-Wextra", "-Wpedantic"]
extra = []

# Linker configuration
[gcc.linker]
name = "ld.bfd"
flavor = "bfd"
rpath = true
soname = true

# Runtime library
[gcc.runtime]
static = "libgcc.a"
shared = "libgcc_s.so"

# Supported targets
[gcc.targets]
x86_64-linux-gnu = { linker = "x86_64-linux-gnu-gcc" }
aarch64-linux-gnu = { linker = "aarch64-linux-gnu-gcc" }
armv7-linux-gnueabihf = { linker = "arm-linux-gnueabihf-gcc" }
riscv64-linux-gnu = { linker = "riscv64-unknown-linux-gnu-gcc" }

# Feature support
[gcc.features]
lto = true
pgo = true
sanitizers = true
coverage = true
