# Microsoft Visual C++ Toolchain Configuration

[msvc]
name = "msvc"
version_min = "191"
version_preferred = "193"

# Compiler flags
[msvc.flags]
base = ["/fp:precise", "/TC"]
optimize_debug = ["/Od", "/Zi"]
optimize_release = ["/O2", "/DNDEBUG"]
optimize_lto = ["/O2", "/GL"]
warnings = ["/Wall", "/WX"]
extra = []

# Linker configuration
[msvc.linker]
name = "link.exe"
flavor = "msvc"
incremental = true

# Runtime library
[msvc.runtime]
static_debug = "libcmtd.lib"
static_release = "libcmt.lib"
shared_debug = "msvcrtd.lib"
shared_release = "msvcrt.lib"

# Supported targets
[msvc.targets]
x86_64-pc-windows-msvc = { linker = "link.exe", rc = "rc.exe" }
i686-pc-windows-msvc = { linker = "link.exe", rc = "rc.exe" }

# Feature support
[msvc.features]
lto = true
pgo = true
sanitizers = false
coverage = true
incremental_linking = true
