# =========================================================
# vittec â€” Cache / Module
# =========================================================

space vittec/cache

share all

<<< doc
Module racine du systÃ¨me de cache du compilateur vittec.

Ce module fournit une faÃ§ade unique et stable pour toutes
les fonctionnalitÃ©s liÃ©es au cache et Ã  la compilation
incrÃ©mentale.

ResponsabilitÃ©s globales du sous-systÃ¨me cache :
- fingerprint des entrÃ©es de compilation
- stockage des fingerprints et artefacts
- graphe de dÃ©pendances
- dÃ©cisions de recompilation incrÃ©mentale

RÃ¨gle dâ€™architecture :
ðŸ‘‰ Aucun autre module ne doit importer directement
   fingerprint / storage / graph / incremental.
   Tout passe par `vittec/cache`.
>>>

# ---------------------------------------------------------
# Sous-modules internes
# ---------------------------------------------------------

pull vittec/cache/fingerprint as fingerprint
pull vittec/cache/storage as storage
pull vittec/cache/graph as graph
pull vittec/cache/incremental as incremental

# ---------------------------------------------------------
# RÃ©-export public (API cache officielle)
# ---------------------------------------------------------

share
    # --- Fingerprint ---
    Fingerprint,
    FingerprintHash,
    FingerprintUnit,
    FingerprintVersion,

    # --- Storage ---
    CacheKey,
    CacheEntry,
    CacheStore,
    CacheError,

    # --- Graph ---
    DependencyGraph,
    DependencyNode,
    DependencyEdge,

    # --- Incremental ---
    IncrementalUnit,
    UnitState,
    IncrementalDecision,
    IncrementalPlan