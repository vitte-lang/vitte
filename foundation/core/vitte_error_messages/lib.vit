# ============================================================
# vitte_error_messages :: lib
# ------------------------------------------------------------
# Façade publique du système de messages d’erreur Vitte.
# Centralise l’API exposée et masque l’arborescence interne.
# ============================================================

space vitte_error_messages

# ------------------------------------------------------------
# Modules internes
# ------------------------------------------------------------

pull vitte_error_messages/catalog
pull vitte_error_messages/locales
pull vitte_error_messages/links
pull vitte_error_messages/context
pull vitte_error_messages/render
pull vitte_error_messages/utils

# ------------------------------------------------------------
# Re-exports ciblés
# ------------------------------------------------------------

share
  # -------- Catalog --------
  catalog/ErrorMessage,
  catalog/all_messages,

  # -------- Locales --------
  locales/LocalizedMessage,
  locales/find,

  # -------- Links --------
  links/DocLink,
  links/find_by_code,

  # -------- Context --------
  context/MessageContext,
  context/from_error_context,
  context/code,
  context/phase,
  context/message,
  context/span,
  context/notes,
  context/doc,

  # -------- Renderers --------
  render/render,        # plain (par défaut)
  render/render_all,
  render/short,

  render/json/render,
  render/json/short,

  render/lsp/Diagnostic,
  render/lsp/render,
  render/lsp/render_all,

  # -------- Utils --------
  utils/join,
  utils/indent,
  utils/format_position,
  utils/escape_json,
  utils/json_string,
  utils/json_kv,
  utils/json_kv_raw
.end
