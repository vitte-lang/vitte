# ============================================================
# vitte_driver :: lib
# Crate entry point for the Vitte compiler driver
# ============================================================

space vitte/driver

# ------------------------------------------------------------
# Core subsystems
# ------------------------------------------------------------

pull vitte/driver/context
pull vitte/driver/diagnostics
pull vitte/driver/options
pull vitte/driver/targets

# ------------------------------------------------------------
# Compilation pipeline
# ------------------------------------------------------------

pull vitte/driver/steps
pull vitte/driver/pipeline

# ------------------------------------------------------------
# Backend + utilities
# ------------------------------------------------------------

pull vitte/driver/backend
pull vitte/driver/utils

# ------------------------------------------------------------
# Public re-exports
# ------------------------------------------------------------

# Context
share DriverContext
share DriverMode
share DriverPhase

# Diagnostics
share DriverError
share DriverErrorSeverity
share DriverWarning
share DriverWarningLevel
share DiagnosticContext

# Options
share DriverFlags
share DriverOptions
share OptLevel
share WarningPolicy
share DebugInfo
share EmitKind
share ModeConfig
share EmitStage

# Steps (fine-grained control)
share parse
share lower
share type_check
share monomorphize
share build_mir
share build_ssa
share const_eval
share optimize
share codegen

# Pipeline (high-level)
share compile
share compile_or_panic

# Backend
share link

# Utilities
share utils

# ------------------------------------------------------------
# Versioning
# ------------------------------------------------------------

const VITTE_DRIVER_VERSION_MAJOR: UInt = 1
const VITTE_DRIVER_VERSION_MINOR: UInt = 0

# ------------------------------------------------------------
# Notes
# ------------------------------------------------------------
#
# - This file MUST remain thin.
# - No logic, no state, no side effects.
# - All implementation details live in submodules.
#
# - Stable import point for all consumers:
#
#       pull vitte/driver
#
# - Internal refactors must NOT break this surface.
#
