#[cfg(test)]
mod tests {
    use crate::*;

    #[test]
    fn test_example_struct_creation() {
        let example = ExampleStruct::new(42, "test".to_string());
        assert_eq!(example.id, 42);
        assert_eq!(example.name, "test");
    }

    #[test]
    fn test_example_struct_default() {
        let example = ExampleStruct::default();
        assert_eq!(example.id, 0);
        assert_eq!(example.name, "default");
    }

    #[test]
    fn test_example_struct_describe() {
        let example = ExampleStruct::new(1, "example".to_string());
        let desc = example.describe();
        assert!(desc.contains("id: 1"));
        assert!(desc.contains("example"));
    }

    #[test]
    fn test_example_enum_simple() {
        let e = ExampleEnum::Simple;
        assert!(e.is_simple());
    }

    #[test]
    fn test_example_enum_with_data() {
        let e = ExampleEnum::WithData("hello".to_string());
        assert!(!e.is_simple());
    }

    #[test]
    fn test_processable_struct() {
        let example = ExampleStruct::new(1, "test".to_string());
        let result = example.process();
        assert!(result.contains("Processing"));
    }

    #[test]
    fn test_processable_enum() {
        let simple = ExampleEnum::Simple;
        let result = simple.process();
        assert!(result.contains("simple"));
    }

    #[test]
    fn test_container() {
        let mut container: Container<i32> = Container::new();
        assert_eq!(container.len(), 0);

        container.push(10);
        container.push(20);
        assert_eq!(container.len(), 2);
    }

    #[test]
    fn test_process_both() {
        let s1 = ExampleStruct::new(1, "first".to_string());
        let s2 = ExampleStruct::new(2, "second".to_string());
        let result = process_both(&s1, &s2);
        assert!(result.contains("Processing"));
    }
}
