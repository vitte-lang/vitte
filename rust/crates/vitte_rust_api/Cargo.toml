# vitte/rust/crates/vitte_rust_api/Cargo.toml

[package]
name = "vitte_rust_api"
version = "0.1.0"
edition = "2021"
license = "MIT"
description = "C ABI surface for Rust components in the Vitte toolchain."
repository = "https://github.com/gogin/vitte"

[lib]
name = "vitte_rust_api"
path = "src/lib.rs"
crate-type = ["staticlib"]

[features]
default = ["std", "alloc", "muf", "regex"]

# Base runtime
std = ["alloc", "vitte_common/std"]
alloc = ["vitte_common/alloc"]

# Optional exported subsystems
muf = ["vitte_muf"]
regex = ["vitte_regex"]

[dependencies]
vitte_common = { path = "../vitte_common", default-features = false, features = ["alloc"] }
vitte_muf = { path = "../vitte_muf", optional = true, default-features = true }
vitte_regex = { path = "../vitte_regex", optional = true, default-features = true }
itoa = "1"

[profile.release]
lto = true
codegen-units = 1
panic = "abort"
