# ============================================================
# mod.vit — compiler-builtins shim / link
# ============================================================
# Point d’entrée linker du builtins-shim
#
# Responsabilités :
# - Centraliser les exports ABI
# - Déclarer la table des symboles
# - Fournir une surface unique au linker / backend
# ============================================================

space std/alloc/compiler_builtins/builtins_shim/link


# ------------------------------------------------------------
# Exports ABI effectifs
# ------------------------------------------------------------
# Définit les symboles réellement visibles par le linker
# (wrappers weak, alias POSIX, symboles internes)
# ------------------------------------------------------------

pull std/alloc/compiler_builtins/builtins_shim/link/export


# ------------------------------------------------------------
# Métadonnées symboliques
# ------------------------------------------------------------
# Source de vérité déclarative :
# - liste des symboles
# - nature (weak / alias / interne)
# - cible d’implémentation
# ------------------------------------------------------------

pull std/alloc/compiler_builtins/builtins_shim/link/symbols


# ------------------------------------------------------------
# Visibilité module
# ------------------------------------------------------------
# Le module link expose :
# - les symboles ABI (via export.vit)
# - la table descriptive (via symbols.vit)
# ------------------------------------------------------------

share all