# ============================================================
# lib.vit — compiler-builtins shim
# ============================================================
# Racine du module compiler-builtins
#
# Responsabilités :
# - Centraliser tous les sous-modules
# - Fournir une surface stable au runtime
# - Servir de point d’ancrage backend / linker
# ============================================================

space std/alloc/compiler_builtins/builtins_shim


# ------------------------------------------------------------
# Configuration cible / backend
# ------------------------------------------------------------
# - target : capacités matérielles
# - features : capacités backend
# ------------------------------------------------------------

pull std/alloc/compiler_builtins/builtins_shim/config/target
pull std/alloc/compiler_builtins/builtins_shim/config/features


# ------------------------------------------------------------
# Implémentations fallback (pure Vitte)
# ------------------------------------------------------------
# - utilisées en stage0
# - utilisées si le backend ne remplace pas
# ------------------------------------------------------------

pull std/alloc/compiler_builtins/builtins_shim/builtins


# ------------------------------------------------------------
# Surface ABI / Linker
# ------------------------------------------------------------
# - symboles exportés
# - alias / weak
# - table canonique des symboles
# ------------------------------------------------------------

pull std/alloc/compiler_builtins/builtins_shim/link


# ------------------------------------------------------------
# Visibilité
# ------------------------------------------------------------
# Le module builtins_shim expose :
# - la configuration (target, features)
# - les builtins fallback
# - la surface linker
# ------------------------------------------------------------

share all