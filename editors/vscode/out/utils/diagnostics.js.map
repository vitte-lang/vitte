{"version":3,"file":"diagnostics.js","sourceRoot":"","sources":["../../src/utils/diagnostics.ts"],"names":[],"mappings":"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","sourcesContent":["import * as path from \"node:path\";\nimport * as vscode from \"vscode\";\n\nexport const VITTE_FILE_EXTS = new Set([\".vitte\", \".vit\"]);\n\ntype SeverityKey = 'error' | 'warning' | 'information' | 'hint';\nconst VALID_SEVERITIES: readonly SeverityKey[] = ['error', 'warning', 'information', 'hint'] as const;\n\nfunction isSeverityKey(value: unknown): value is SeverityKey {\n  return typeof value === 'string' && VALID_SEVERITIES.includes(value as SeverityKey);\n}\n\nexport interface DiagnosticsSummary {\n  errors: number;\n  warnings: number;\n  info: number;\n  hints: number;\n}\n\nexport interface FileDiagnosticsSummary {\n  uri: vscode.Uri;\n  filePath: string;\n  errors: number;\n  warnings: number;\n  info: number;\n  hints: number;\n  total: number;\n}\n\nexport interface WorkspaceDiagnosticsReport {\n  total: DiagnosticsSummary;\n  perFile: FileDiagnosticsSummary[];\n}\n\nexport interface VitteDiagnosticsConfig {\n  severities?: SeverityKey[];\n  /** Sorting for per-file lists: by most errors, warnings, total, or alphabetical path. */\n  order?: 'errors' | 'warnings' | 'total' | 'path';\n  /** Limit number of rows in summaries (0 = unlimited). */\n  maxPerFile?: number;\n}\n\nfunction getConfig(): Required<VitteDiagnosticsConfig> {\n  const cfg = vscode.workspace.getConfiguration('vitte').get<VitteDiagnosticsConfig>('diagnostics') ?? {};\n  const severities = Array.isArray(cfg.severities) ? cfg.severities.filter(isSeverityKey) : [];\n  const order = cfg.order === 'warnings' || cfg.order === 'total' || cfg.order === 'path' ? cfg.order : 'errors';\n  const maxPerFile = typeof cfg.maxPerFile === 'number' && cfg.maxPerFile >= 0 ? cfg.maxPerFile : 0;\n  return {\n    severities,\n    order,\n    maxPerFile,\n  };\n}\n\nexport type DiagnosticsLevel = \"clean\" | \"warning\" | \"error\";\n\nexport function summarizeWorkspaceDiagnostics(): DiagnosticsSummary {\n  return summarizeDiagnosticsInternal((uri) => isVitteFile(uri));\n}\n\nexport function summarizeDiagnosticsForUris(uris: Iterable<string | vscode.Uri>): DiagnosticsSummary {\n  const wanted = new Set<string>();\n  for (const entry of uris) {\n    if (!entry) continue;\n    if (typeof entry === \"string\") {\n      wanted.add(entry);\n    } else {\n      wanted.add(entry.toString());\n    }\n  }\n  if (wanted.size === 0) {\n    return summarizeDiagnosticsInternal(() => false);\n  }\n  return summarizeDiagnosticsInternal((uri) => wanted.has(uri.toString()));\n}\n\nexport function diagnosticsLevel(summary: DiagnosticsSummary): DiagnosticsLevel {\n  if (summary.errors > 0) return \"error\";\n  if (summary.warnings > 0) return \"warning\";\n  return \"clean\";\n}\n\nexport function formatDiagnosticsSummary(summary: DiagnosticsSummary): string {\n  const parts: string[] = [];\n  const fileCount = vscode.languages.getDiagnostics().filter(([uri]) => isVitteFile(uri)).length;\n  if (summary.errors > 0) {\n    parts.push(formatCount(summary.errors, \"erreur\"));\n  }\n  if (summary.warnings > 0) {\n    parts.push(formatCount(summary.warnings, \"avertissement\"));\n  }\n  if (summary.info > 0) {\n    parts.push(formatCount(summary.info, \"info\"));\n  }\n  if (summary.hints > 0) {\n    parts.push(formatCount(summary.hints, \"suggestion\"));\n  }\n  if (parts.length === 0) {\n    return \"Diagnostics : aucun problème détecté\";\n  }\n  const header = fileCount > 0 ? `${fileCount} fichier${fileCount > 1 ? 's' : ''} — ` : '';\n  return `${header}Diagnostics : ${parts.join(', ')}`;\n}\n\n/**\n * Returns a per-file breakdown of diagnostics (filtered to Vitte files and by configured severities).\n */\nexport function summarizeDiagnosticsPerFile(): FileDiagnosticsSummary[] {\n  const cfg = getConfig();\n  const allowed = new Set(cfg.severities);\n  const map = new Map<string, FileDiagnosticsSummary>();\n\n  for (const [uri, diagnostics] of vscode.languages.getDiagnostics()) {\n    if (!isVitteFile(uri)) continue;\n    for (const d of diagnostics) {\n      // Severity filter\n      if (allowed.size) {\n        const ok = (\n          (d.severity === vscode.DiagnosticSeverity.Error && allowed.has('error')) ||\n          (d.severity === vscode.DiagnosticSeverity.Warning && allowed.has('warning')) ||\n          (d.severity === vscode.DiagnosticSeverity.Information && allowed.has('information')) ||\n          (d.severity === vscode.DiagnosticSeverity.Hint && allowed.has('hint'))\n        );\n        if (!ok) continue;\n      }\n\n      const key = uri.toString();\n      let rec = map.get(key);\n      if (!rec) {\n        rec = { uri, filePath: uri.fsPath, errors: 0, warnings: 0, info: 0, hints: 0, total: 0 };\n        map.set(key, rec);\n      }\n\n      switch (d.severity) {\n        case vscode.DiagnosticSeverity.Error: rec.errors++; break;\n        case vscode.DiagnosticSeverity.Warning: rec.warnings++; break;\n        case vscode.DiagnosticSeverity.Information: rec.info++; break;\n        case vscode.DiagnosticSeverity.Hint: rec.hints++; break;\n        default: rec.info++; break;\n      }\n      rec.total++;\n    }\n  }\n\n  const list = Array.from(map.values());\n  list.sort(fileSummaryComparator(cfg.order));\n  if (cfg.maxPerFile > 0 && list.length > cfg.maxPerFile) {\n    return list.slice(0, cfg.maxPerFile);\n  }\n  return list;\n}\n\n/**\n * Build a workspace report with both totals and per-file stats.\n */\nexport function buildWorkspaceDiagnosticsReport(): WorkspaceDiagnosticsReport {\n  const perFile = summarizeDiagnosticsPerFile();\n  const total = perFile.reduce<DiagnosticsSummary>((acc, f) => {\n    acc.errors += f.errors;\n    acc.warnings += f.warnings;\n    acc.info += f.info;\n    acc.hints += f.hints;\n    return acc;\n  }, { errors: 0, warnings: 0, info: 0, hints: 0 });\n  return { total, perFile };\n}\n\n/**\n * Render a concise status text (e.g., for status bar): \"⛔ 2 • ⚠ 5 • ℹ 1 • ✳ 0\".\n */\nexport function formatDiagnosticsBadge(summary: DiagnosticsSummary): string {\n  const parts: string[] = [];\n  parts.push(`⛔ ${summary.errors}`);\n  parts.push(`⚠ ${summary.warnings}`);\n  parts.push(`ℹ ${summary.info}`);\n  parts.push(`✳ ${summary.hints}`);\n  return parts.join(' • ');\n}\n\n/** Choose a comparator for FileDiagnosticsSummary based on config.order */\nexport function fileSummaryComparator(order: 'errors'|'warnings'|'total'|'path'): (a: FileDiagnosticsSummary, b: FileDiagnosticsSummary) => number {\n  switch (order) {\n    case 'warnings':\n      return (a, b) =>\n        b.warnings - a.warnings || b.errors - a.errors || b.total - a.total || a.filePath.localeCompare(b.filePath);\n    case 'total':\n      return (a, b) =>\n        b.total - a.total || b.errors - a.errors || b.warnings - a.warnings || a.filePath.localeCompare(b.filePath);\n    case 'path':\n      return (a, b) => a.filePath.localeCompare(b.filePath);\n    case 'errors':\n    default:\n      return (a, b) =>\n        b.errors - a.errors || b.warnings - a.warnings || b.total - a.total || a.filePath.localeCompare(b.filePath);\n  }\n}\n\n/** Aggregate diagnostics by top-level directory (relative to workspace). */\nexport interface DirectoryDiagnosticsSummary extends DiagnosticsSummary {\n  dir: string;            // workspace-relative directory\n  files: number;          // number of files contributing\n}\n\nexport function summarizeDiagnosticsByDirectory(): DirectoryDiagnosticsSummary[] {\n  const cfg = getConfig();\n  const allowed = new Set(cfg.severities);\n  const folders = vscode.workspace.workspaceFolders ?? [];\n  const map = new Map<string, DirectoryDiagnosticsSummary & { _set: Set<string> }>();\n\n  const rel = (uri: vscode.Uri): string => {\n    for (const f of folders) {\n      const root = f.uri.fsPath;\n      if (uri.fsPath.startsWith(root)) {\n        const p = path.relative(root, uri.fsPath);\n        const d = path.dirname(p);\n        return d === '.' ? '' : (d.split(path.sep)[0] ?? '');\n      }\n    }\n    return '';\n  };\n\n  for (const [uri, diagnostics] of vscode.languages.getDiagnostics()) {\n    if (!isVitteFile(uri)) continue;\n    const top = rel(uri);\n    let rec = map.get(top);\n\t  if (!rec) {\n\t    rec = { dir: top, errors: 0, warnings: 0, info: 0, hints: 0, files: 0, _set: new Set<string>() };\n\t    map.set(top, rec);\n\t  }\n\t  for (const d of diagnostics) {\n\t    if (allowed.size > 0) {\n\t      const ok = (\n\t        (d.severity === vscode.DiagnosticSeverity.Error && allowed.has('error')) ||\n\t        (d.severity === vscode.DiagnosticSeverity.Warning && allowed.has('warning')) ||\n\t        (d.severity === vscode.DiagnosticSeverity.Information && allowed.has('information')) ||\n\t        (d.severity === vscode.DiagnosticSeverity.Hint && allowed.has('hint'))\n        );\n        if (!ok) continue;\n      }\n      switch (d.severity) {\n        case vscode.DiagnosticSeverity.Error: rec.errors++; break;\n        case vscode.DiagnosticSeverity.Warning: rec.warnings++; break;\n        case vscode.DiagnosticSeverity.Information: rec.info++; break;\n        case vscode.DiagnosticSeverity.Hint: rec.hints++; break;\n      }\n      rec._set.add(uri.toString());\n    }\n  }\n\n  const out: DirectoryDiagnosticsSummary[] = [];\n  for (const r of map.values()) {\n    out.push({ dir: r.dir ?? '/', errors: r.errors, warnings: r.warnings, info: r.info, hints: r.hints, files: r._set.size });\n  }\n  out.sort((a, b) => b.errors - a.errors || b.warnings - a.warnings || b.files - a.files || a.dir.localeCompare(b.dir));\n  return out;\n}\n\n/** Open first diagnostic of given severity preference (errors→warnings→info→hints). */\nexport async function openFirstDiagnostic(prefer: SeverityKey[] = ['error','warning','information','hint']): Promise<boolean> {\n  let best: { uri: vscode.Uri; index: number } | undefined;\n  for (const [uri, list] of vscode.languages.getDiagnostics()) {\n    if (!isVitteFile(uri)) continue;\n    const idx = list.findIndex((d) => {\n      const sev = severityToName(d.severity);\n      return sev !== 'unknown' && prefer.includes(sev);\n    });\n    if (idx >= 0) { best = { uri, index: idx }; break; }\n  }\n  if (!best) return false;\n  const list = vscode.languages.getDiagnostics(best.uri);\n  const diag = list && list.length > best.index ? list[best.index] : undefined;\n  if (!diag) return false;\n\n  const doc = await vscode.workspace.openTextDocument(best.uri);\n  const editor = await vscode.window.showTextDocument(doc, { preview: true });\n  editor.revealRange(diag.range, vscode.TextEditorRevealType.InCenter);\n  editor.selection = new vscode.Selection(diag.range.start, diag.range.start);\n  return true;\n}\n\nfunction severityToName(sev?: vscode.DiagnosticSeverity): 'error'|'warning'|'information'|'hint'|'unknown' {\n  switch (sev) {\n    case vscode.DiagnosticSeverity.Error: return 'error';\n    case vscode.DiagnosticSeverity.Warning: return 'warning';\n    case vscode.DiagnosticSeverity.Information: return 'information';\n    case vscode.DiagnosticSeverity.Hint: return 'hint';\n    default: return 'unknown';\n  }\n}\n\n/** Export helpers: JSON & CSV */\nexport function toJSONReport(report: WorkspaceDiagnosticsReport): string {\n  return JSON.stringify(report, null, 2);\n}\n\nexport function toCSVReport(report: WorkspaceDiagnosticsReport): string {\n  const rows: string[] = [];\n  rows.push('file,errors,warnings,info,hints,total');\n  for (const f of report.perFile) {\n    const esc = (s: string) => '\"' + s.replace(/\"/g, '\"\"') + '\"';\n    rows.push([esc(f.filePath), f.errors, f.warnings, f.info, f.hints, f.total].join(','));\n  }\n  return rows.join('\\n');\n}\n\n/**\n * Render a Markdown table for panel/webview from a per-file list.\n */\nexport function formatDiagnosticsMarkdownTable(perFile: FileDiagnosticsSummary[]): string {\n  if (!perFile.length) return '*Aucun diagnostic Vitte.*';\n  const header = '| Fichier | Erreurs | Avert. | Infos | Astuces | Total |\\n|---|---:|---:|---:|---:|---:|';\n  const rows = perFile.map((f) => `| ${escapeMd(path.basename(f.filePath))} | ${f.errors} | ${f.warnings} | ${f.info} | ${f.hints} | ${f.total} |`);\n  return [header, ...rows].join('\\n');\n}\n\nfunction escapeMd(s: string): string {\n  return s.replace(/[|*_`\\\\]/g, (m) => `\\\\${m}`);\n}\n\nfunction summarizeDiagnosticsInternal(predicate: (uri: vscode.Uri) => boolean): DiagnosticsSummary {\n  const summary: DiagnosticsSummary = { errors: 0, warnings: 0, info: 0, hints: 0 };\n  const cfg = getConfig();\n  const allowed = new Set(cfg.severities);\n  const filterBySeverity = (sev: vscode.DiagnosticSeverity): boolean => {\n    if (!allowed.size) return true;\n    switch (sev) {\n      case vscode.DiagnosticSeverity.Error: return allowed.has('error');\n      case vscode.DiagnosticSeverity.Warning: return allowed.has('warning');\n      case vscode.DiagnosticSeverity.Information: return allowed.has('information');\n      case vscode.DiagnosticSeverity.Hint: return allowed.has('hint');\n      default: return true;\n    }\n  };\n  for (const [uri, diagnostics] of vscode.languages.getDiagnostics()) {\n    if (!predicate(uri)) continue;\n    for (const diagnostic of diagnostics) {\n      if (!filterBySeverity(diagnostic.severity)) continue;\n      switch (diagnostic.severity) {\n        case vscode.DiagnosticSeverity.Error:\n          summary.errors++;\n          break;\n        case vscode.DiagnosticSeverity.Warning:\n          summary.warnings++;\n          break;\n        case vscode.DiagnosticSeverity.Information:\n          summary.info++;\n          break;\n        case vscode.DiagnosticSeverity.Hint:\n          summary.hints++;\n          break;\n        default:\n          summary.info++;\n      }\n    }\n  }\n  return summary;\n}\n\nfunction isVitteFile(uri: vscode.Uri): boolean {\n  if (uri.scheme !== \"file\") return false;\n  const ext = path.extname(uri.fsPath).toLowerCase();\n  return VITTE_FILE_EXTS.has(ext);\n}\n\nfunction formatCount(count: number, label: string): string {\n  const plural = count > 1 ? \"s\" : \"\";\n  return `${count} ${label}${plural}`;\n}\n"]}