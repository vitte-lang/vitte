{"version":3,"file":"suggestionsView.js","sourceRoot":"","sources":["../../src/providers/suggestionsView.ts"],"names":[],"mappings":"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","sourcesContent":["import * as vscode from \"vscode\";\n\ntype Logger = (message: string) => void;\n\ninterface SuggestionState {\n  cInput: string;\n  outputVitte: string;\n  history: { title: string; output: string; ts: number }[];\n  cFlavor: \"c\" | \"cpp\";\n}\n\nfunction mapCTypeToVitte(typeRaw: string): string {\n  const cleaned = typeRaw\n    .replace(/\\bconst\\b/g, \"\")\n    .replace(/\\bunsigned\\b/g, \"\")\n    .replace(/\\bsigned\\b/g, \"\")\n    .replace(/\\bstd::/g, \"\")\n    .trim();\n  if (!cleaned) return \"int\";\n  if (cleaned.includes(\"string\")) return \"string\";\n  if (cleaned.includes(\"bool\")) return \"bool\";\n  if (cleaned.includes(\"char*\") || cleaned.includes(\"char *\")) return \"string\";\n  if (cleaned.includes(\"char\")) return \"int\";\n  if (/\\b(short|int|long|size_t|ssize_t)\\b/.exec(cleaned)) return \"int\";\n  const vectorMatch = /vector<\\s*([^>]+)\\s*>/.exec(cleaned);\n  if (vectorMatch) return `[${mapCTypeToVitte(vectorMatch[1] ?? \"int\")}]`;\n  if (cleaned.includes(\"*\")) return `*${mapCTypeToVitte(cleaned.replace(/\\*/g, \"\").trim())}`;\n  return cleaned;\n}\n\nfunction parseCParams(paramList: string): string {\n  const params = paramList.trim();\n  if (!params || params === \"void\") return \"\";\n  return params\n    .split(\",\")\n    .map((chunk) => {\n      const part = chunk.trim();\n      if (!part) return \"\";\n      const tokens = part.split(/\\s+/);\n      let name = tokens.pop() ?? \"arg\";\n      let type = tokens.join(\" \");\n      if (name.includes(\"*\")) {\n        type = `${type} ${name.replace(/[A-Za-z_]\\w*/, \"\")}`.trim();\n        name = name.replace(/[^A-Za-z_0-9]/g, \"\");\n      }\n      return `${name}: ${mapCTypeToVitte(type)}`;\n    })\n    .filter(Boolean)\n    .join(\", \");\n}\n\nfunction convertCSignature(line: string): string | null {\n  const match = /^\\s*([A-Za-z_][\\w:<>,\\s\\*&]+)\\s+([A-Za-z_]\\w*)\\s*\\(([^)]*)\\)\\s*\\{?/.exec(line);\n  if (!match) return null;\n  const ret = mapCTypeToVitte(match[1] ?? \"\");\n  const name = match[2] ?? \"proc\";\n  const params = parseCParams(match[3] ?? \"\");\n  return ret === \"void\" ? `proc ${name}(${params}) {` : `proc ${name}(${params}) -> ${ret} {`;\n}\n\nfunction convertCStruct(line: string): string | null {\n  const match = /^\\s*struct\\s+([A-Za-z_]\\w*)\\s*\\{/.exec(line);\n  if (!match) return null;\n  return `form ${match[1] ?? \"Struct\"} {`;\n}\n\nfunction convertCField(line: string): string | null {\n  const match = /^\\s*([A-Za-z_][\\w:<>,\\s\\*&]+)\\s+([A-Za-z_]\\w*)\\s*(\\[[^\\]]+\\])?\\s*;/.exec(line);\n  if (!match) return null;\n  const type = mapCTypeToVitte(match[1] ?? \"\");\n  const name = match[2] ?? \"field\";\n  return `  ${name}: ${type},`;\n}\n\nfunction convertCVar(line: string): string | null {\n  const match = /^\\s*(const\\s+)?([A-Za-z_][\\w:<>,\\s\\*&]+)\\s+([A-Za-z_]\\w*)\\s*(=\\s*(.+))?;/.exec(line);\n  if (!match) return null;\n  const isConst = Boolean(match[1]);\n  const type = mapCTypeToVitte(match[2] ?? \"\");\n  const name = match[3] ?? \"var\";\n  const value = (match[5] ?? \"\").trim();\n  const head = isConst ? \"const\" : \"let\";\n  if (value) return `${head} ${name}: ${type} = ${value}`;\n  return `${head} ${name}: ${type} = ${type === \"string\" ? \"\\\"\\\"\" : \"0\"}`;\n}\n\nfunction convertCIf(line: string): string | null {\n  const match = /^\\s*if\\s*\\((.+)\\)\\s*\\{/.exec(line);\n  if (!match) return null;\n  return `if ${match[1] ?? \"\"} {`;\n}\n\nfunction convertCElse(line: string): string | null {\n  if (/^\\s*else\\s*\\{/.test(line)) return \"else {\";\n  return null;\n}\n\nfunction convertCWhile(line: string): string | null {\n  const match = /^\\s*while\\s*\\((.+)\\)\\s*\\{/.exec(line);\n  if (!match) return null;\n  return `loop { // while ${match[1] ?? \"\"}`;\n}\n\nfunction convertCFor(line: string): string | null {\n  if (!/^\\s*for\\s*\\(/.test(line)) return null;\n  return \"loop { // for (...)\";\n}\n\nfunction convertCReturn(line: string): string | null {\n  const match = /^\\s*return\\s+(.+)\\s*;/.exec(line);\n  if (!match) return null;\n  return `return ${match[1] ?? \"\"}`;\n}\n\nfunction convertCStatements(line: string): string {\n  return line\n    .replace(/\\btrue\\b/g, \"true\")\n    .replace(/\\bfalse\\b/g, \"false\")\n    .replace(/\\bprintf\\s*\\(/g, \"emit \");\n}\n\nfunction convertCToVitte(input: string): string {\n  const lines = input.split(/\\r?\\n/);\n  const out: string[] = [];\n  for (const raw of lines) {\n    const line = raw.trimEnd();\n    if (!line) {\n      out.push(\"\");\n      continue;\n    }\n    const sig = convertCSignature(line);\n    if (sig) {\n      out.push(sig);\n      continue;\n    }\n    const form = convertCStruct(line);\n    if (form) {\n      out.push(form);\n      continue;\n    }\n    if (line.startsWith(\"}\")) {\n      out.push(\"}\");\n      continue;\n    }\n    const field = convertCField(line);\n    if (field) {\n      out.push(field);\n      continue;\n    }\n    const ifLine = convertCIf(line);\n    if (ifLine) {\n      out.push(ifLine);\n      continue;\n    }\n    const elseLine = convertCElse(line);\n    if (elseLine) {\n      out.push(elseLine);\n      continue;\n    }\n    const whileLine = convertCWhile(line);\n    if (whileLine) {\n      out.push(whileLine);\n      continue;\n    }\n    const forLine = convertCFor(line);\n    if (forLine) {\n      out.push(forLine);\n      continue;\n    }\n    const retLine = convertCReturn(line);\n    if (retLine) {\n      out.push(retLine);\n      continue;\n    }\n    const decl = convertCVar(line);\n    if (decl) {\n      out.push(decl);\n      continue;\n    }\n    out.push(convertCStatements(line));\n  }\n  return out.join(\"\\n\");\n}\n\nfunction createConverterSession(webview: vscode.Webview, title: string, log?: Logger): void {\n  webview.options = { enableScripts: true };\n  const state: SuggestionState = {\n    cInput: \"\",\n    outputVitte: \"\",\n    history: [],\n    cFlavor: \"cpp\"\n  };\n  const update = () => {\n    try {\n      webview.html = getHtml(state, title);\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      log?.(`Webview render error: ${message}`);\n      webview.html = `<!doctype html><html><body><pre>Vitte converter failed to render: ${message}</pre></body></html>`;\n    }\n  };\n  webview.html = `<!doctype html><html><body><p>Loading Vitte converterâ€¦</p></body></html>`;\n  update();\n  log?.(\"Converter session initialized.\");\n\n  webview.onDidReceiveMessage(async (msg) => {\n    const data = asRecord(msg);\n    if (!data) return;\n    const type = typeof data.type === \"string\" ? data.type : \"\";\n    if (type === \"convertFromC\") {\n      const input = typeof data.input === \"string\" ? data.input : \"\";\n      const flavor = data.flavor === \"c\" ? \"c\" : \"cpp\";\n      state.cInput = input;\n      state.cFlavor = flavor;\n      state.outputVitte = convertCToVitte(state.cInput);\n      state.history.unshift({ title: \"Convert: C/C++ -> Vitte\", output: state.outputVitte, ts: Date.now() });\n      state.history = state.history.slice(0, 12);\n      update();\n      return;\n    }\n    if (type === \"insert\") {\n      const editor = vscode.window.activeTextEditor;\n      if (!editor) {\n        void vscode.window.showWarningMessage(\"Open a Vitte/Vit file to insert code.\");\n        return;\n      }\n      await editor.edit((edit) => {\n        edit.insert(editor.selection.active, state.outputVitte + \"\\n\");\n      });\n      return;\n    }\n    if (type === \"copy\") {\n      await vscode.env.clipboard.writeText(state.outputVitte);\n      void vscode.window.showInformationMessage(\"Vitte code copied.\");\n      return;\n    }\n    if (type === \"clear\") {\n      state.cInput = \"\";\n      state.outputVitte = \"\";\n      state.history = [];\n      update();\n      return;\n    }\n  });\n}\n\nfunction asRecord(value: unknown): Record<string, unknown> | null {\n  if (!value || typeof value !== \"object\") return null;\n  return value as Record<string, unknown>;\n}\n\nexport function registerSuggestionsView(\n  context: vscode.ExtensionContext,\n  viewId = \"vitteSuggestions\",\n  title = \"Vitte C/C++ Converter\",\n  log?: Logger\n): void {\n  const provider = {\n    resolveWebviewView(view: vscode.WebviewView) {\n      log?.(`Resolve view: ${viewId}`);\n      createConverterSession(view.webview, title, log);\n    },\n  } satisfies vscode.WebviewViewProvider;\n\n  context.subscriptions.push(\n    vscode.window.registerWebviewViewProvider(viewId, provider)\n  );\n}\n\nexport function openSuggestionsPanel(\n  context: vscode.ExtensionContext,\n  title = \"Vitte C/C++ Converter\",\n  log?: Logger\n): void {\n  const panel = vscode.window.createWebviewPanel(\n    \"vitteCodeGeneratorPanel\",\n    title,\n    vscode.ViewColumn.One,\n    { enableScripts: true, retainContextWhenHidden: true }\n  );\n  log?.(\"Open converter panel.\");\n  createConverterSession(panel.webview, title, log);\n  context.subscriptions.push(panel);\n}\n\nfunction getHtml(state: SuggestionState, title: string): string {\n  const cInput = escapeHtml(state.cInput);\n  const outputVitte = escapeHtml(state.outputVitte);\n  const history = state.history\n    .map((entry) => {\n      const when = new Date(entry.ts).toLocaleTimeString();\n      const entryPrompt = escapeHtml(entry.title || \"Prompt\");\n      const entryOutput = escapeHtml(entry.output || \"\");\n      return `<div class=\"bubble\">\\n  <div class=\"bubble-header\">${entryPrompt} <span class=\"time\">${when}</span></div>\\n  <pre>${entryOutput}</pre>\\n</div>`;\n    })\n    .join(\"\");\n  return `<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n<style>\n  :root { color-scheme: light dark; }\n  body { font-family: -apple-system, BlinkMacSystemFont, Segoe UI, sans-serif; padding: 12px; }\n  h3 { margin: 0 0 8px; }\n  textarea { width: 100%; box-sizing: border-box; min-height: 160px; }\n  .row { display: flex; gap: 8px; margin-top: 8px; }\n  button { flex: 1; padding: 6px 10px; }\n  pre { white-space: pre-wrap; background: rgba(127,127,127,0.15); padding: 8px; border-radius: 6px; margin: 0; }\n  .bubble { border: 1px solid rgba(127,127,127,0.35); border-radius: 8px; padding: 8px; margin-top: 8px; }\n  .bubble-header { font-weight: 600; margin-bottom: 6px; display: flex; justify-content: space-between; gap: 8px; }\n  .time { font-weight: 400; opacity: 0.7; font-size: 11px; }\n  .muted { opacity: 0.7; font-size: 12px; }\n</style>\n</head>\n<body>\n  <h3>${escapeHtml(title)}</h3>\n  <div class=\"muted\">Paste C/C++ code and convert to Vitte (offline).</div>\n  <label>C / C++ input</label>\n  <textarea id=\"c-input\" placeholder=\"Paste C or C++ code here\">${cInput}</textarea>\n  <div class=\"row\">\n    <select id=\"c-flavor\">\n      <option value=\"cpp\">C++</option>\n      <option value=\"c\">C</option>\n    </select>\n    <button id=\"convert\">Convert to Vitte</button>\n  </div>\n  <div class=\"row\">\n    <button id=\"insert\">Insert Vitte</button>\n    <button id=\"copy\">Copy Vitte</button>\n    <button id=\"clear\">Clear</button>\n  </div>\n  <label style=\"margin-top:8px; display:block;\">Vitte output</label>\n  <pre id=\"out-vitte\">${outputVitte || \"(no Vitte output yet)\"}</pre>\n  <div style=\"margin-top:10px;\">\n    <label>History</label>\n    ${history || `<div class=\"muted\">(no history yet)</div>`}\n  </div>\n\n<script>\n  const vscode = acquireVsCodeApi();\n  document.getElementById('convert').addEventListener('click', () => {\n    const input = document.getElementById('c-input').value || '';\n    const flavor = document.getElementById('c-flavor').value || 'cpp';\n    vscode.postMessage({ type: 'convertFromC', input, flavor });\n  });\n  document.getElementById('insert').addEventListener('click', () => {\n    vscode.postMessage({ type: 'insert' });\n  });\n  document.getElementById('copy').addEventListener('click', () => {\n    vscode.postMessage({ type: 'copy' });\n  });\n  document.getElementById('clear').addEventListener('click', () => {\n    vscode.postMessage({ type: 'clear' });\n  });\n</script>\n</body>\n</html>`;\n}\n\nfunction escapeHtml(value: string): string {\n  return value\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\\\"/g, \"&quot;\")\n    .replace(/'/g, \"&#39;\");\n}\n"]}