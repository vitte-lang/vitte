{"version":3,"file":"docsChaptersView.js","sourceRoot":"","sources":["../../src/providers/docsChaptersView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA,4DAOC;AArED,+CAAiC;AACjC,mEAAmE;AAenE,MAAM,oBAAoB;IAA1B;QACmB,yBAAoB,GAAG,IAAI,MAAM,CAAC,YAAY,EAAsB,CAAC;QAC7E,wBAAmB,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC;IA0CjE,CAAC;IAxCC,OAAO;QACL,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,CAAC;IACtC,CAAC;IAED,OAAO;QACL,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;IACnC,CAAC;IAED,WAAW,CAAC,OAAoB;QAC9B,IAAI,OAAO,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;YAC/B,MAAM,IAAI,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CAAC;YAC1F,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC7C,OAAO,IAAI,CAAC;QACd,CAAC;QACD,MAAM,IAAI,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC;QACtF,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;QAClD,IAAI,CAAC,OAAO,GAAG;YACb,OAAO,EAAE,wBAAwB;YACjC,KAAK,EAAE,oBAAoB;YAC3B,SAAS,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC;SACzB,CAAC;QACF,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC;QAC3B,OAAO,IAAI,CAAC;IACd,CAAC;IAED,WAAW,CAAC,OAAqB;QAC/B,IAAI,CAAC,OAAO,EAAE,CAAC;YACb,OAAO,oCAAY,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACpF,CAAC;QACD,IAAI,OAAO,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;YAC/B,MAAM,OAAO,GAAG,oCAAY,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,KAAK,OAAO,CAAC,KAAK,CAAC,CAAC;YAC5E,IAAI,CAAC,OAAO;gBAAE,OAAO,EAAE,CAAC;YACxB,OAAO,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACxC,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,OAAO,CAAC,KAAK;gBACpB,GAAG,EAAE,IAAA,kCAAU,EAAC,OAAO,CAAC,IAAI,CAAC;aAC9B,CAAC,CAAC,CAAC;QACN,CAAC;QACD,OAAO,EAAE,CAAC;IACZ,CAAC;CACF;AAED,SAAgB,wBAAwB,CAAC,OAAgC,EAAE,MAAc;IACvF,MAAM,QAAQ,GAAG,IAAI,oBAAoB,EAAE,CAAC;IAC5C,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,EAAE,gBAAgB,EAAE,QAAQ,EAAE,CAAC,CAAC;IAClF,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC3C,OAAO,CAAC,aAAa,CAAC,IAAI,CACxB,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CACxF,CAAC;AACJ,CAAC","sourcesContent":["import * as vscode from \"vscode\";\nimport { DOC_SECTIONS, makeDocUrl } from \"./documentationChapters\";\n\ntype ChapterNode = SectionNode | ItemNode;\n\ninterface SectionNode {\n  kind: \"section\";\n  title: string;\n}\n\ninterface ItemNode {\n  kind: \"chapter\";\n  title: string;\n  url: string;\n}\n\nclass DocsChaptersProvider implements vscode.TreeDataProvider<ChapterNode> {\n  private readonly _onDidChangeTreeData = new vscode.EventEmitter<ChapterNode | void>();\n  readonly onDidChangeTreeData = this._onDidChangeTreeData.event;\n\n  dispose(): void {\n    this._onDidChangeTreeData.dispose();\n  }\n\n  refresh(): void {\n    this._onDidChangeTreeData.fire();\n  }\n\n  getTreeItem(element: ChapterNode): vscode.TreeItem {\n    if (element.kind === \"section\") {\n      const item = new vscode.TreeItem(element.title, vscode.TreeItemCollapsibleState.Expanded);\n      item.iconPath = new vscode.ThemeIcon(\"book\");\n      return item;\n    }\n    const item = new vscode.TreeItem(element.title, vscode.TreeItemCollapsibleState.None);\n    item.iconPath = new vscode.ThemeIcon(\"file-text\");\n    item.command = {\n      command: \"vitte.docs.openChapter\",\n      title: \"Open Vitte Chapter\",\n      arguments: [element.url]\n    };\n    item.tooltip = element.url;\n    return item;\n  }\n\n  getChildren(element?: ChapterNode): ChapterNode[] {\n    if (!element) {\n      return DOC_SECTIONS.map((section) => ({ kind: \"section\", title: section.title }));\n    }\n    if (element.kind === \"section\") {\n      const section = DOC_SECTIONS.find((entry) => entry.title === element.title);\n      if (!section) return [];\n      return section.chapters.map((chapter) => ({\n        kind: \"chapter\",\n        title: chapter.title,\n        url: makeDocUrl(chapter.path)\n      }));\n    }\n    return [];\n  }\n}\n\nexport function registerDocsChaptersView(context: vscode.ExtensionContext, viewId: string): void {\n  const provider = new DocsChaptersProvider();\n  const tree = vscode.window.createTreeView(viewId, { treeDataProvider: provider });\n  context.subscriptions.push(tree, provider);\n  context.subscriptions.push(\n    vscode.commands.registerCommand(\"vitte.docs.refreshChapters\", () => provider.refresh())\n  );\n}\n"]}