{"version":3,"file":"text.js","sourceRoot":"","sources":["../../../src/utils/text.ts"],"names":[],"mappings":"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","sourcesContent":["\n\n/**\n * Vitte LSP Utils — Text helpers (ultra complete)\n * ------------------------------------------------\n * Pure utilities for text/position/range manipulation with LSP (UTF‑16) semantics.\n * No I/O, no side effects, dependency‑free.\n *\n * IMPORTANT: JavaScript strings are UTF‑16. All offsets and lengths here are in\n * UTF‑16 code units, matching LSP expectations.\n */\n\nexport interface Position { line: number; character: number }\nexport interface Range { start: Position; end: Position }\n\nexport interface TextEdit { range: Range; newText: string }\n\n/** Builds an array of line start offsets (UTF‑16 code units). */\nexport function indexLineStarts(text: string): number[] {\n  const starts: number[] = [0];\n  for (let i = 0; i < text.length; i++) {\n    const ch = text.charCodeAt(i);\n    if (ch === 13 /*\\r*/) {\n      if (i + 1 < text.length && text.charCodeAt(i + 1) === 10 /*\\n*/) i++;\n      starts.push(i + 1);\n    } else if (ch === 10 /*\\n*/) {\n      starts.push(i + 1);\n    }\n  }\n  return starts;\n}\n\n/** Clamp helpers. */\nexport function clamp(v: number, lo: number, hi: number): number {\n  return Math.min(hi, Math.max(lo, v));\n}\nexport function clampPosition(pos: Position, maxLine: number): Position {\n  return { line: clamp(pos.line, 0, maxLine), character: Math.max(0, pos.character) };\n}\n\n/** Compare helpers. */\nexport function comparePosition(a: Position, b: Position): -1 | 0 | 1 {\n  if (a.line < b.line) return -1; if (a.line > b.line) return 1;\n  if (a.character < b.character) return -1; if (a.character > b.character) return 1;\n  return 0;\n}\nexport function normalizeRange(r: Range): Range {\n  return comparePosition(r.start, r.end) <= 0 ? r : { start: r.end, end: r.start };\n}\nexport function mergeRanges(ranges: Range[]): Range[] {\n  if (ranges.length <= 1) return ranges.slice();\n  const rs = ranges.map(normalizeRange).sort((a, b) => comparePosition(a.start, b.start));\n  const out: Range[] = [];\n  let cur = rs[0];\n  for (let i = 1; i < rs.length; i++) {\n    const r = rs[i];\n    if (comparePosition(r.start, cur.end) <= 0) {\n      if (comparePosition(r.end, cur.end) > 0) cur.end = r.end;\n    } else {\n      out.push(cur); cur = r;\n    }\n  }\n  out.push(cur);\n  return out;\n}\n\n/** Offset/position mapping (UTF‑16). */\nexport function positionAt(offset: number, lineStarts: number[]): Position {\n  offset = Math.max(0, offset);\n  let lo = 0, hi = lineStarts.length - 1;\n  while (lo <= hi) {\n    const mid = (lo + hi) >>> 1;\n    const start = lineStarts[mid];\n    if (start === offset) return { line: mid, character: 0 };\n    if (start < offset) lo = mid + 1; else hi = mid - 1;\n  }\n  const line = Math.max(0, lo - 1);\n  return { line, character: offset - lineStarts[line] };\n}\nexport function offsetAt(pos: Position, lineStarts: number[]): number {\n  const line = clamp(pos.line, 0, Math.max(0, lineStarts.length - 1));\n  return lineStarts[line] + Math.max(0, pos.character);\n}\n\n/** Full document range for a given text. */\nexport function fullDocumentRange(text: string): Range {\n  const starts = indexLineStarts(text);\n  const lastLine = Math.max(0, starts.length - 1);\n  // Character = length of last line segment (UTF‑16 units)\n  const lastChar = text.length - starts[lastLine];\n  return { start: { line: 0, character: 0 }, end: { line: lastLine, character: lastChar } };\n}\n\n/** Returns text slice by range using a precomputed line index (safer & fast). */\nexport function sliceByRange(text: string, range: Range, lineStarts = indexLineStarts(text)): string {\n  const a = offsetAt(range.start, lineStarts);\n  const b = offsetAt(range.end, lineStarts);\n  return text.slice(Math.max(0, Math.min(a, b)), Math.max(a, b));\n}\n\n/** Replaces the content at a given range. */\nexport function replaceRange(text: string, range: Range, replacement: string, lineStarts = indexLineStarts(text)): string {\n  const a = offsetAt(range.start, lineStarts);\n  const b = offsetAt(range.end, lineStarts);\n  const lo = Math.max(0, Math.min(a, b));\n  const hi = Math.max(a, b);\n  return text.slice(0, lo) + replacement + text.slice(hi);\n}\n\n/** Builds a TextEdit struct. */\nexport function edit(range: Range, newText: string): TextEdit {\n  return { range: normalizeRange(range), newText };\n}\n\n/** Applies a set of non‑overlapping edits. If overlapping, sorts & compacts first. */\nexport function applyEdits(text: string, edits: TextEdit[]): string {\n  if (edits.length === 0) return text;\n  const starts = indexLineStarts(text);\n\n  // Normalize & sort\n  const es = edits.map(e => ({ range: normalizeRange(e.range), newText: e.newText }));\n  es.sort((a, b) => {\n    const cmp = comparePosition(a.range.start, b.range.start);\n    if (cmp !== 0) return cmp;\n    return comparePosition(a.range.end, b.range.end);\n  });\n\n  // Compact overlaps (keep the last edit for overlapping zones)\n  const compact: typeof es = [];\n  for (const e of es) {\n    if (compact.length === 0) { compact.push(e); continue; }\n    const last = compact[compact.length - 1];\n    if (comparePosition(e.range.start, last.range.end) <= 0) {\n      // Overlap → extend last to cover farther end and override newText if same span.\n      if (comparePosition(e.range.end, last.range.end) > 0) last.range.end = e.range.end;\n      last.newText = e.newText;\n    } else {\n      compact.push(e);\n    }\n  }\n\n  // Apply from end to start by offsets to keep indices stable\n  let result = text;\n  for (let i = compact.length - 1; i >= 0; i--) {\n    const r = compact[i].range;\n    const a = offsetAt(r.start, starts);\n    const b = offsetAt(r.end, starts);\n    const lo = Math.max(0, Math.min(a, b));\n    const hi = Math.max(a, b);\n    result = result.slice(0, lo) + compact[i].newText + result.slice(hi);\n  }\n  return result;\n}\n\n/**\n * Extracts the word at a given position using a customizable word regex.\n * Returns null if no word is found at the cursor.\n */\nexport interface WordAtResult { word: string; range: Range }\nexport function wordAtPosition(\n  text: string,\n  pos: Position,\n  lineStarts = indexLineStarts(text),\n  re = /[A-Za-z0-9_]+/g\n): WordAtResult | null {\n  const line = clamp(pos.line, 0, indexLineStarts(text).length - 1);\n  const lineStart = lineStarts[line];\n  const lineEnd = (line + 1 < lineStarts.length) ? lineStarts[line + 1] : text.length;\n  const lineText = text.slice(lineStart, lineEnd);\n\n  // Position column within the line\n  const col = Math.max(0, Math.min(pos.character, lineText.length));\n  let m: RegExpExecArray | null;\n  re.lastIndex = 0;\n  while ((m = re.exec(lineText))) {\n    const s = m.index;\n    const e = s + m[0].length;\n    if (s <= col && e >= col) {\n      return {\n        word: m[0],\n        range: { start: { line, character: s }, end: { line, character: e } }\n      };\n    }\n  }\n  return null;\n}\n\n/** Returns the text of a given line (without its EOL). */\nexport function lineTextAt(text: string, line: number, lineStarts = indexLineStarts(text)): string {\n  const ln = clamp(line, 0, Math.max(0, lineStarts.length - 1));\n  const start = lineStarts[ln];\n  const end = ln + 1 < lineStarts.length ? lineStarts[ln + 1] : text.length;\n  return text.slice(start, end);\n}\n\n/** Returns the line length (UTF‑16 units) without EOL. */\nexport function lineLengthAt(text: string, line: number, lineStarts = indexLineStarts(text)): number {\n  const ln = clamp(line, 0, Math.max(0, lineStarts.length - 1));\n  const start = lineStarts[ln];\n  const end = ln + 1 < lineStarts.length ? lineStarts[ln + 1] : text.length;\n  return end - start;\n}\n\n/** Creates a single full‑document replace edit (useful for formatters). */\nexport function fullReplaceEdit(text: string, newText: string): TextEdit {\n  return edit(fullDocumentRange(text), newText);\n}\n\n/** Splits text into lines quickly (LF/CRLF tolerated). */\nexport function fastSplitLines(text: string): string[] {\n  return text.replace(/\\r\\n/g, '\\n').split('\\n');\n}\n\n/** Counts lines without allocating per line. */\nexport function countLines(text: string): number {\n  if (text.length === 0) return 1;\n  let lines = 1;\n  for (let i = 0; i < text.length; i++) {\n    const c = text.charCodeAt(i);\n    if (c === 13 /*\\r*/) {\n      if (i + 1 < text.length && text.charCodeAt(i + 1) === 10 /*\\n*/) i++;\n      lines++;\n    } else if (c === 10 /*\\n*/) {\n      lines++;\n    }\n  }\n  return lines;\n}\n\n/** Quick predicate: is range empty? */\nexport function isEmptyRange(r: Range): boolean {\n  return r.start.line === r.end.line && r.start.character === r.end.character;\n}\n\n/** Make a zero‑length range at a given position. */\nexport function cursorAt(pos: Position): Range {\n  return { start: pos, end: pos };\n}\n\n/** Expand a range by delta characters on both ends (line‑local). */\nexport function expandRangeOnLine(r: Range, startDelta: number, endDelta: number): Range {\n  return {\n    start: { line: r.start.line, character: Math.max(0, r.start.character - startDelta) },\n    end:   { line: r.end.line,   character: Math.max(0, r.end.character + endDelta) },\n  };\n}\n\n/** Check if a position is within a given range (inclusive of start, exclusive of end). */\nexport function rangeContains(range: Range, pos: Position): boolean {\n  if (comparePosition(pos, range.start) < 0) return false;\n  if (comparePosition(pos, range.end) >= 0) return false;\n  return true;\n}\n\n/** Compute a minimal set of TextEdits to replace `oldText` by `newText` (simple fallback). */\nexport function computeMinimalEdits(oldText: string, newText: string): TextEdit[] {\n  if (oldText === newText) return [];\n  // Simple strategy: full replace. (Can be improved to diff‑based later.)\n  return [fullReplaceEdit(oldText, newText)];\n}\n\n/** Try to create a line‑aware replace (only if both share same number of lines & prefixes/suffixes). */\nexport function computeSmartLineEdit(oldText: string, newText: string): TextEdit[] | null {\n  if (oldText === newText) return [];\n  const oldLines = fastSplitLines(oldText);\n  const newLines = fastSplitLines(newText);\n  if (oldLines.length !== newLines.length) return null;\n\n  // Find first and last differing line\n  let startLine = 0;\n  while (startLine < oldLines.length && oldLines[startLine] === newLines[startLine]) startLine++;\n  let endLine = oldLines.length - 1;\n  while (endLine >= startLine && oldLines[endLine] === newLines[endLine]) endLine--;\n  if (startLine > endLine) return []; // identical, should have returned earlier\n\n  const startChar = commonPrefixLen(oldLines[startLine], newLines[startLine]);\n  const endCharOld = oldLines[endLine].length - commonSuffixLen(oldLines[endLine], newLines[endLine]);\n  const endCharNew = newLines[endLine].length - commonSuffixLen(newLines[endLine], oldLines[endLine]);\n\n  const range: Range = { start: { line: startLine, character: startChar }, end: { line: endLine, character: endCharOld } };\n  const replacement = newLines.slice(startLine, endLine + 1);\n  replacement[0] = replacement[0].slice(startChar);\n  const lastIdx = replacement.length - 1;\n  replacement[lastIdx] = replacement[lastIdx].slice(0, endCharNew);\n  return [edit(range, replacement.join('\\n'))];\n}\n\nfunction commonPrefixLen(a: string, b: string): number {\n  const n = Math.min(a.length, b.length);\n  let i = 0;\n  while (i < n && a.charCodeAt(i) === b.charCodeAt(i)) i++;\n  return i;\n}\nfunction commonSuffixLen(a: string, b: string): number {\n  const n = Math.min(a.length, b.length);\n  let i = 0;\n  while (i < n && a.charCodeAt(a.length - 1 - i) === b.charCodeAt(b.length - 1 - i)) i++;\n  return i;\n}\n\n\n// -----------------------------------------------------------------------------\n// Extended helpers — ranges, scanning, indentation, brackets, diffs (light)\n// -----------------------------------------------------------------------------\n\n/** Factory helpers. */\nexport function makePosition(line: number, character: number): Position {\n  return { line, character };\n}\nexport function makeRange(sline: number, schar: number, eline: number, echar: number): Range {\n  return { start: { line: sline, character: schar }, end: { line: eline, character: echar } };\n}\nexport function positionEquals(a: Position, b: Position): boolean {\n  return a.line === b.line && a.character === b.character;\n}\nexport function rangeEquals(a: Range, b: Range): boolean {\n  return positionEquals(a.start, b.start) && positionEquals(a.end, b.end);\n}\n\n/** Convert to/from offsets (UTF‑16). */\nexport function rangeToOffsets(text: string, r: Range, starts = indexLineStarts(text)): [number, number] {\n  const a = offsetAt(r.start, starts);\n  const b = offsetAt(r.end, starts);\n  return [Math.max(0, Math.min(a, b)), Math.max(a, b)];\n}\nexport function offsetsToRange(text: string, start: number, end: number, starts = indexLineStarts(text)): Range {\n  return { start: positionAt(Math.max(0, start), starts), end: positionAt(Math.max(0, end), starts) };\n}\n\n/** Clamp a range to the text bounds. */\nexport function clampRangeToText(text: string, r: Range, starts = indexLineStarts(text)): Range {\n  const [a, b] = rangeToOffsets(text, r, starts);\n  const lo = 0;\n  const hi = text.length;\n  return offsetsToRange(text, Math.max(lo, a), Math.min(hi, b), starts);\n}\n\n/** Line helpers. */\nexport function lineRange(text: string, line: number, starts = indexLineStarts(text)): Range {\n  const ln = clamp(line, 0, Math.max(0, starts.length - 1));\n  const s = starts[ln];\n  const e = ln + 1 < starts.length ? starts[ln + 1] : text.length;\n  return offsetsToRange(text, s, e, starts);\n}\nexport function isBlankLine(text: string, line: number, starts = indexLineStarts(text)): boolean {\n  const lr = lineRange(text, line, starts);\n  const slice = sliceByRange(text, lr, starts);\n  return /^\\s*$/.test(slice);\n}\nexport function indentationLevelOf(lineText: string, tabSize = 2): number {\n  let col = 0;\n  for (const ch of lineText) {\n    if (ch === ' ') col += 1; else if (ch === '\\t') col += tabSize; else break;\n  }\n  return col;\n}\n\n/** Normalize indentation (leading whitespace only). */\nexport function normalizeIndentation(text: string, insertSpaces: boolean, tabSize = 2): string {\n  const unit = insertSpaces ? ' '.repeat(Math.max(1, tabSize)) : '\\t';\n  const lines = fastSplitLines(text);\n  for (let i = 0; i < lines.length; i++) {\n    const m = /^(\\s*)/.exec(lines[i]);\n    if (!m) continue;\n    const lead = m[1];\n    if (insertSpaces) {\n      // Tabs → spaces\n      const tabMatch = /^\\t+/.exec(lead);\n      const tabs = tabMatch?.[0] ?? '';\n      if (tabs) lines[i] = tabs.split('').map(() => unit).join('') + lines[i].slice(tabs.length);\n    } else {\n      // Spaces → tabs (groups of tabSize)\n      const re = new RegExp(`^(?: {${Math.max(1, tabSize)}})+`);\n      const mm = re.exec(lead);\n      if (mm) {\n        const spaces = mm[0].length; const tabs = Math.floor(spaces / Math.max(1, tabSize));\n        lines[i] = '\\t'.repeat(tabs) + lines[i].slice(spaces);\n      }\n    }\n  }\n  return lines.join('\\n');\n}\n\n/** Whitespace scanning within a line. */\nexport function nextNonWhitespaceColumn(lineText: string, from = 0): number {\n  for (let i = Math.max(0, from); i < lineText.length; i++) if (lineText[i] !== ' ' && lineText[i] !== '\\t') return i;\n  return lineText.length;\n}\nexport function prevNonWhitespaceColumn(lineText: string, from: number): number {\n  for (let i = Math.min(lineText.length - 1, Math.max(0, from)); i >= 0; i--) if (lineText[i] !== ' ' && lineText[i] !== '\\t') return i;\n  return 0;\n}\n\n/** Word boundaries on a line. */\nexport function wordBoundaries(lineText: string, col: number, re = /[A-Za-z0-9_]+/g): [number, number] | null {\n  const c = Math.max(0, Math.min(col, lineText.length));\n  let m: RegExpExecArray | null; re.lastIndex = 0;\n  while ((m = re.exec(lineText))) {\n    const s = m.index, e = s + m[0].length;\n    if (s <= c && e >= c) return [s, e];\n  }\n  return null;\n}\n\n/** Simple bracket matching and selection expansion. */\nconst BRACKETS = new Map<string, string>([\n  ['(', ')'], ['[', ']'], ['{', '}']\n]);\nexport function findMatchingBracket(text: string, pos: Position, starts = indexLineStarts(text)): Range | null {\n  const [off] = rangeToOffsets(text, cursorAt(pos), starts);\n  const open = text[off];\n  const close = BRACKETS.get(open);\n  if (close) {\n    // Scan forward\n    let depth = 0;\n    for (let i = off; i < text.length; i++) {\n      const ch = text[i];\n      if (ch === open) depth++;\n      else if (ch === close) { depth--; if (depth === 0) return offsetsToRange(text, off, i + 1, starts); }\n    }\n    return null;\n  }\n  // Maybe we're on a closing bracket; scan backward\n  for (const [o, c] of BRACKETS) {\n    if (text[off] === c) {\n      let depth = 0;\n      for (let i = off; i >= 0; i--) {\n        const ch = text[i];\n        if (ch === c) depth++;\n        else if (ch === o) { depth--; if (depth === 0) return offsetsToRange(text, i, off + 1, starts); }\n      }\n      return null;\n    }\n  }\n  return null;\n}\nexport function expandSelectionToEnclosingBrackets(text: string, pos: Position, starts = indexLineStarts(text)): Range | null {\n  const r = findMatchingBracket(text, pos, starts);\n  if (!r) return null;\n  return makeRange(r.start.line, r.start.character + 1, r.end.line, Math.max(0, r.end.character - 1));\n}\n\n/** Lightweight line‑based diff to produce coarse TextEdits. */\nexport function computeEditsByLine(oldText: string, newText: string): TextEdit[] {\n  if (oldText === newText) return [];\n  const A = fastSplitLines(oldText);\n  const B = fastSplitLines(newText);\n  const n = A.length, m = B.length;\n  // LCS (O(n*m)) is too heavy for big files; do a forward/backward trim and single replace in the middle.\n  let start = 0;\n  while (start < n && start < m && A[start] === B[start]) start++;\n  let endA = n - 1, endB = m - 1;\n  while (endA >= start && endB >= start && A[endA] === B[endB]) { endA--; endB--; }\n  const replacement = B.slice(start, endB + 1).join('\\n');\n  const range = makeRange(start, 0, endA + 1, 0); // end at column 0 of the line after endA\n  return [edit(range, replacement)];\n}\n\n/** Strict edit application: throws on overlapping ranges. */\nexport function applyEditsStrict(text: string, edits: TextEdit[]): string {\n  if (edits.length === 0) return text;\n  const starts = indexLineStarts(text);\n  const es = edits.map(e => ({ range: normalizeRange(e.range), newText: e.newText }))\n                  .sort((a, b) => comparePosition(a.range.start, b.range.start));\n  for (let i = 1; i < es.length; i++) {\n    if (comparePosition(es[i].range.start, es[i - 1].range.end) < 0) {\n      throw new Error('Overlapping edits are not allowed in applyEditsStrict');\n    }\n  }\n  let out = text;\n  for (let i = es.length - 1; i >= 0; i--) {\n    const a = offsetAt(es[i].range.start, starts);\n    const b = offsetAt(es[i].range.end, starts);\n    const lo = Math.max(0, Math.min(a, b));\n    const hi = Math.max(a, b);\n    out = out.slice(0, lo) + es[i].newText + out.slice(hi);\n  }\n  return out;\n}\n\n/** Smart minimal edits: prefer line‑block replace, else full replace. */\nexport function computeMinimalSmartEdits(oldText: string, newText: string): TextEdit[] {\n  const byLine = computeEditsByLine(oldText, newText);\n  // If edit covers whole doc, we might as well return a single full replace.\n  if (byLine.length === 1) {\n    const e = byLine[0];\n    if (e.range.start.line === 0 && e.range.start.character === 0 && e.range.end.line >= countLines(oldText) - 1) {\n      return [fullReplaceEdit(oldText, newText)];\n    }\n  }\n  return byLine;\n}\n"]}