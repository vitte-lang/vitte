# ============================================================
# .clang-format â€” Vitte Project
# Target: C / C++ (compiler backend, runtime, builtins)
# Style: deterministic, compiler-friendly
# ============================================================

BasedOnStyle: LLVM
Language: Cpp

# ------------------------------------------------------------
# General
# ------------------------------------------------------------

IndentWidth: 4
TabWidth: 4
UseTab: Never
ColumnLimit: 100
ContinuationIndentWidth: 4
AccessModifierOffset: -4

# ------------------------------------------------------------
# Braces
# ------------------------------------------------------------

BreakBeforeBraces: Custom
BraceWrapping:
  AfterClass: true
  AfterControlStatement: true
  AfterEnum: true
  AfterFunction: true
  AfterNamespace: true
  AfterStruct: true
  AfterUnion: true
  BeforeCatch: true
  BeforeElse: true
  IndentBraces: false
  SplitEmptyFunction: true
  SplitEmptyRecord: true
  SplitEmptyNamespace: true

# ------------------------------------------------------------
# Alignment
# ------------------------------------------------------------

AlignAfterOpenBracket: Align
AlignConsecutiveAssignments: true
AlignConsecutiveDeclarations: true
AlignEscapedNewlines: Left
AlignOperands: true
AlignTrailingComments: true

# ------------------------------------------------------------
# Line breaking
# ------------------------------------------------------------

AllowAllArgumentsOnNextLine: false
AllowAllParametersOfDeclarationOnNextLine: false
AllowShortBlocksOnASingleLine: Never
AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false
AlwaysBreakAfterReturnType: None
AlwaysBreakTemplateDeclarations: Yes
BreakBeforeBinaryOperators: None
BreakBeforeTernaryOperators: true
BreakConstructorInitializers: AfterColon
BreakInheritanceList: AfterColon

# ------------------------------------------------------------
# Spacing
# ------------------------------------------------------------

SpaceAfterCStyleCast: false
SpaceAfterLogicalNot: false
SpaceBeforeAssignmentOperators: true
SpaceBeforeParens: ControlStatements
SpaceInEmptyBlock: false
SpacesInAngles: false
SpacesInCStyleCastParentheses: false
SpacesInContainerLiterals: false
SpacesInParentheses: false
SpacesInSquareBrackets: false

# ------------------------------------------------------------
# Pointer / Reference
# ------------------------------------------------------------

PointerAlignment: Left
ReferenceAlignment: Left
DerivePointerAlignment: false

# ------------------------------------------------------------
# Includes
# ------------------------------------------------------------

SortIncludes: true
IncludeBlocks: Regroup
IncludeCategories:
  - Regex: '^<.*>'
    Priority: 1
  - Regex: '^".*"'
    Priority: 2

# ------------------------------------------------------------
# Comments
# ------------------------------------------------------------

ReflowComments: false
CommentPragmas: '^ IWYU pragma:'
FixNamespaceComments: true

# ------------------------------------------------------------
# Preprocessor
# ------------------------------------------------------------

IndentPPDirectives: AfterHash
PPIndentWidth: 2

# ------------------------------------------------------------
# Macros
# ------------------------------------------------------------

MacroBlockBegin: ''
MacroBlockEnd: ''

# ------------------------------------------------------------
# C++ specifics
# ------------------------------------------------------------

Cpp11BracedListStyle: true
Standard: c++20
DeriveLineEnding: false
UseCRLF: false
InsertTrailingCommas: None

# ------------------------------------------------------------
# Objective-C (ignored safely)
# ------------------------------------------------------------

ObjCBlockIndentWidth: 4
ObjCSpaceAfterProperty: false
ObjCSpaceBeforeProtocolList: true
