#!/usr/bin/env python3
from pathlib import Path
import sys

ROOT = Path(__file__).resolve().parent
REPO_ROOT = None
for candidate in [ROOT, *ROOT.parents]:
    if (candidate / "muffin.muf").is_file():
        REPO_ROOT = candidate
        break
if REPO_ROOT is None:
    REPO_ROOT = ROOT.parents[-1]

STAGE1_DIR = REPO_ROOT / "bootstrap" / "stage1"
if str(REPO_ROOT) not in sys.path:
    sys.path.insert(0, str(REPO_ROOT))
if str(STAGE1_DIR) not in sys.path:
    sys.path.insert(0, str(STAGE1_DIR))

from vittec_stage1 import main

if __name__ == "__main__":
    raise SystemExit(main())
