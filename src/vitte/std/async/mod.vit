<<<
mod.vit
std async helpers (stubs)
>>>

space std/async


<<<
imports
>>>

use std/core/types.i32
use std/core/result.Result


<<<
types
>>>

pick TaskState[T] {
    Pending
    Ready(value: T)
}

form Task[T] {
    id: i32
}


<<<
helpers (stubs)
>>>

#[inline]
proc spawn[T](f: proc() -> T) -> Task[T] {
    give Task(id = 0)
}

#[inline]
proc poll[T](t: *Task[T]) -> TaskState[T] {
    give TaskState.Pending
}
