space std/test/expect

proc panic(f: fn())
    let panicked = false
    do
        f()
    when
        panicked = true
    .end

    if !panicked
        builtin.trap("expected panic did not occur")
    .end
.end

share all
