space std/math/checked

proc add(a: i64, b: i64) -> Option[i64]
    let r = a + b
    if (b > 0 && r < a) || (b < 0 && r > a)
        give None
    .end
    give Some(r)
.end

proc sub(a: i64, b: i64) -> Option[i64]
    let r = a - b
    if (b < 0 && r < a) || (b > 0 && r > a)
        give None
    .end
    give Some(r)
.end

share all
