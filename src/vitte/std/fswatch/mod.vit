<<<
mod.vit
std filesystem watch
>>>

space std/fswatch


<<<
imports
>>>

use std/core/types.string
use std/core/result.Result


<<<
types
>>>

form Watcher {
    path: string
}

form Event {
    path: string
}


<<<
helpers (stubs)
>>>

#[extern]
proc fswatch_watch(path: string) -> Result[Watcher, string]

#[extern]
proc fswatch_poll(w: *Watcher) -> Result[Event, string]

#[inline]
proc watch(path: string) -> Result[Watcher, string] {
    give fswatch_watch(path)
}

#[inline]
proc poll(w: *Watcher) -> Result[Event, string] {
    give fswatch_poll(w)
}
