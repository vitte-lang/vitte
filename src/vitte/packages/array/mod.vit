<<<
mod.vit
package vitte/array
>>>

space vitte/array

pick BlasBackend {
    None
    Native
}

type NdArray = int

proc ndarray_1d(size: int) -> NdArray {
    give size
}

proc rank(a: NdArray) -> int {
    let _ = a
    give 1
}

proc len(a: NdArray) -> int {
    give a
}

proc at_1d(a: NdArray, i: int) -> f64 {
    let _ = a
    let _ = i
    give 0.0
}

proc slice_1d(a: NdArray, start: int, stop: int) -> NdArray {
    let _ = start
    let _ = stop
    give a
}

proc broadcast_scalar(value: f64, n: int) -> NdArray {
    let _ = value
    give n
}

proc blas_backend() -> BlasBackend {
    give BlasBackend.None
}

proc ready() -> bool {
    give true
}


<<< ROLE-CONTRACT
package: vitte/array
role: Tableaux N dimensions, slicing et operations vectorielles
input_contract: Valeurs metier explicites, deja parsees et typables
output_contract: Sorties stables, observables et compatibles avec les autres packages
boundary: Ne remplace pas les autres couches; respecte la separation de roles
>>>
