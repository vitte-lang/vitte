//@revisions: default disabled
//@[disabled] c-env:CLIPPY_CONF_DIR=tests/ui-toml/use_self/disabled
//@[default] c-env:CLIPPY_CONF_DIR=tests/ui-toml/use_self/default

#![warn(clippy::use_self)]

fn main() {}

struct Basic {
    flag: Option<Box<Basic>>,
    //~[default]^ use_self
}

impl Basic {
    fn x(_: Self) {}
    //~[default,disabled]^ use_self
}
